/* Admin UI */
* { box-sizing: border-box; }
body { font-family: system-ui, sans-serif; margin: 0; background: #f5f5f5; color: #1a1a1a; }
.admin-header {
    background: #333; color: #fff; padding: 0.75rem 1rem; display: flex; align-items: center; gap: 1rem; flex-wrap: wrap;
}
.admin-header a { color: #fff; text-decoration: none; }
.admin-header a:hover { text-decoration: underline; }
.admin-main { max-width: 800px; margin: 0 auto; padding: 1.5rem 1rem; }
.admin-form label { display: block; margin-top: 0.75rem; }
.admin-form input[type=text], .admin-form input[type=email], .admin-form input[type=password],
.admin-form textarea { width: 100%; max-width: 500px; padding: 0.5rem; }
.admin-form textarea.wide { max-width: 100%; }
.admin-form fieldset { margin: 1.5rem 0; padding: 1rem; border: 1px solid #ddd; background: #fff; }
.admin-form .feature-row, .admin-form .service-row { margin: 1rem 0; padding: 0.75rem; background: #f9f9f9; border-radius: 4px; }
.admin-form .img-slot { margin: 1rem 0; padding: 0.75rem; background: #f9f9f9; border-radius: 4px; }
.admin-form .img-hint { font-size: 0.85rem; color: #666; margin: 0.25rem 0 0; }
.admin-form .img-preview img { max-height: 80px; border-radius: 4px; }

/* Image Dropzone + Picker */
.img-dropzone {
    border: 2px dashed #ccc;
    padding: 1.25rem;
    text-align: center;
    background: #fff;
    border-radius: 8px;
    cursor: pointer;
    min-height: 140px;
    transition: border-color 0.2s, background 0.2s;
}
.img-dropzone:hover, .img-dropzone.drag-over { border-color: #333; background: #fafafa; }
.img-dropzone.uploading { opacity: 0.7; pointer-events: none; }
.img-dropzone.uploading::after {
    content: 'Wird hochgeladen…';
    position: absolute;
    inset: 0;
    display: flex;
    align-items: center;
    justify-content: center;
    background: rgba(255,255,255,0.8);
    font-size: 0.9rem;
}
.img-dropzone { position: relative; }
.img-preview-wrap {
    min-height: 80px;
    display: flex;
    align-items: center;
    justify-content: center;
    margin-bottom: 0.5rem;
}
.img-preview-wrap .img-preview-thumb { max-height: 80px; max-width: 100%; border-radius: 4px; }
.img-preview-wrap .img-placeholder { color: #999; font-size: 0.9rem; }
.img-path-display {
    font-size: 0.8rem;
    color: #555;
    margin: 0.5rem 0;
    word-break: break-all;
}
.img-actions {
    display: flex;
    gap: 0.5rem;
    justify-content: center;
    flex-wrap: wrap;
}
.img-actions button {
    padding: 0.4rem 0.75rem;
    font-size: 0.85rem;
    background: #333;
    color: #fff;
    border: 0;
    border-radius: 4px;
    cursor: pointer;
}
.img-actions button:hover { background: #555; }

/* Image Picker Modal */
.img-picker-modal {
    display: none;
    position: fixed;
    inset: 0;
    z-index: 1000;
    align-items: center;
    justify-content: center;
}
.img-picker-modal.open { display: flex; }
.img-picker-backdrop {
    position: absolute;
    inset: 0;
    background: rgba(0,0,0,0.4);
}
.img-picker-content {
    position: relative;
    background: #fff;
    border-radius: 8px;
    padding: 1.5rem;
    max-width: 600px;
    width: 90%;
    max-height: 80vh;
    overflow: hidden;
    display: flex;
    flex-direction: column;
    box-shadow: 0 4px 20px rgba(0,0,0,0.2);
}
.img-picker-content h2 { margin: 0 0 1rem; font-size: 1.1rem; }
.img-picker-tabs {
    display: flex;
    gap: 0.5rem;
    margin-bottom: 1rem;
}
.img-picker-tab {
    padding: 0.4rem 0.75rem;
    background: #eee;
    border: 0;
    border-radius: 4px;
    cursor: pointer;
}
.img-picker-tab.active { background: #333; color: #fff; }
.img-picker-panel {
    display: none;
    flex: 1;
    overflow-y: auto;
    min-height: 200px;
}
.img-picker-panel.active { display: block; }
.img-picker-grid {
    display: grid;
    grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
    gap: 0.75rem;
}
.img-picker-item {
    cursor: pointer;
    border: 2px solid #eee;
    border-radius: 6px;
    overflow: hidden;
    transition: border-color 0.2s;
}
.img-picker-item:hover { border-color: #333; }
.img-picker-item img {
    width: 100%;
    height: 80px;
    object-fit: cover;
    display: block;
}
.img-picker-item .img-picker-path {
    display: block;
    font-size: 0.7rem;
    padding: 0.25rem;
    background: #f5f5f5;
    word-break: break-all;
}
.img-picker-empty { color: #666; padding: 2rem; text-align: center; }
.img-picker-close {
    margin-top: 1rem;
    padding: 0.5rem 1rem;
    background: #333;
    color: #fff;
    border: 0;
    border-radius: 4px;
    cursor: pointer;
}
.admin-form .hint { font-size: 0.9rem; color: #666; margin: 0.5rem 0; }
.admin-form button { margin-top: 1rem; padding: 0.5rem 1rem; background: #333; color: #fff; border: 0; cursor: pointer; }

/* Format-Toolbar für Rich-Text-Editoren */
.format-toolbar-wrapper { margin-top: 0.75rem; }
.format-toolbar {
    display: flex;
    align-items: center;
    gap: 0.25rem;
    padding: 0.35rem 0.5rem;
    background: #eee;
    border: 1px solid #ddd;
    border-bottom: 0;
    border-radius: 4px 4px 0 0;
}
.format-btn {
    width: 28px;
    height: 28px;
    padding: 0;
    font-size: 0.9rem;
    font-weight: bold;
    font-family: inherit;
    background: #fff;
    border: 1px solid #ccc;
    border-radius: 4px;
    cursor: pointer;
}
.format-btn:hover { background: #f0f0f0; border-color: #999; }
.format-btn--bold { font-weight: 700; }
.format-btn--italic { font-style: italic; }
.format-btn--underline { text-decoration: underline; }
.format-font-wrap { margin-left: 0.5rem; }
.format-font-size {
    padding: 0.25rem 0.5rem;
    font-size: 0.85rem;
    border: 1px solid #ccc;
    border-radius: 4px;
    background: #fff;
    cursor: pointer;
}
.format-editor-wrap {
    border: 1px solid #ddd;
    border-radius: 0 0 4px 4px;
    background: #fff;
}
.format-editor {
    min-height: 80px;
    max-height: 400px;
    overflow-y: auto;
    padding: 0.5rem;
    font-size: 0.95rem;
    line-height: 1.5;
    outline: 0;
}
.format-editor:empty::before { content: attr(data-placeholder); color: #999; }
.err { color: #c00; }
.success { color: #080; }

.login-page { min-height: 100vh; display: flex; align-items: center; justify-content: center; }
.login-box { background: #fff; padding: 2rem; border-radius: 8px; box-shadow: 0 2px 8px rgba(0,0,0,.1); max-width: 320px; width: 100%; }
.login-box h1 { margin-top: 0; font-size: 1.25rem; }
.login-box label { display: block; margin-top: 0.75rem; }
.login-box input { width: 100%; padding: 0.5rem; }
.login-box button { margin-top: 1rem; padding: 0.5rem 1rem; width: 100%; background: #333; color: #fff; border: 0; cursor: pointer; }
.login-box a { color: #06c; font-size: 0.9rem; }

.admin-links { list-style: none; padding: 0; }
.admin-links a { display: block; padding: 0.75rem; background: #fff; margin-bottom: 0.5rem; border-radius: 4px; text-decoration: none; color: #1a1a1a; border: 1px solid #eee; }
.admin-links a:hover { border-color: #333; }

.upload-zone {
    border: 2px dashed #ccc; padding: 2rem; text-align: center; background: #fff; border-radius: 8px; margin: 1rem 0; cursor: pointer;
}
.upload-zone:hover, .upload-zone.drag { border-color: #333; background: #f9f9f9; }
.upload-zone input[type=file] { display: none; }

.media-list { list-style: none; padding: 0; display: grid; grid-template-columns: repeat(auto-fill, minmax(200px, 1fr)); gap: 1rem; }
.media-item { background: #fff; padding: 0.75rem; border-radius: 8px; border: 1px solid #eee; }
.media-item .thumb { width: 100%; height: auto; display: block; border-radius: 4px; }
.media-item .url-copy { width: 100%; font-size: 0.75rem; margin-top: 0.5rem; }
.media-meta { margin-top: 0.5rem; }
.media-meta form { margin: 0.25rem 0; }
.media-meta button { padding: 0.25rem 0.5rem; font-size: 0.85rem; background: #333; color: #fff; border: 0; cursor: pointer; }
.media-meta .btn-trash { background: #c00; }
.replace-file { font-size: 0.8rem; margin-right: 0.25rem; }

.backup-list { list-style: none; padding: 0; }
.backup-list li { padding: 0.5rem 0; border-bottom: 1px solid #eee; display: flex; align-items: center; gap: 0.5rem; flex-wrap: wrap; }
.backup-list .muted { font-size: 0.85rem; color: #666; }
